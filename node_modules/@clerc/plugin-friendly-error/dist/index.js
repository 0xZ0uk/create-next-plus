import { definePlugin } from '@clerc/core';
import * as kons from 'kons';

const friendlyErrorPlugin = ({
  target = kons.error
} = {}) => definePlugin({
  setup: (cli) => cli.errorHandler((err) => {
    target(err.message);
    process.exit(1);
  })
});

export { friendlyErrorPlugin };
